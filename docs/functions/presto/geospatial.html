<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Geospatial Operators &#8212; Velox  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css?v=0f882399" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Velox  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Geospatial Operators</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="geospatial-operators">
<h1>Geospatial Operators<a class="headerlink" href="#geospatial-operators" title="Link to this heading">¶</a></h1>
<section id="geometry-functions">
<h2>Geometry Functions<a class="headerlink" href="#geometry-functions" title="Link to this heading">¶</a></h2>
<p>Velox has a set of functions that operator on Geometries, conforming to the Open
Geospatial Consortium’s (OGC) <a class="reference external" href="https://www.ogc.org/standards/ogcapi-features/">OpenGIS Specifications</a>. These are
piecewise-linear planar geometries that are 0-, 1-, or 2-dimensional and
collections of such geometries. They support a variety of operations, including
spatial relationship predicates (e.g., “do these geometries intersect?”), binary
operations (e.g., “what is the union of these geometries?”), and unary
operations (e.g., “what is the area of this geometry?”). The basis for the
Geometry type is a plane. The shortest path between two points on the plane is a
straight line. That means calculations on geometries (areas, distances, lengths,
intersections, etc) can be calculated using cartesian mathematics and straight
line vectors.</p>
<p>Functions that begin with the <a href="#id5"><span class="problematic" id="id6">ST_</span></a> prefix are compliant with the <a href="#id7"><span class="problematic" id="id8">`SQL/MM Part 3:
Spatial`_</span></a> specification`. As such, many Geometry functions assume that
geometries that are operated on are both simple and valid. Functions may raise
an exception or return an arbitrary value for non-simple or non-valid
geometries. For example, it does not make sense to calculate the area of a
polygon that has a hole defined outside of the polygon, or to construct a
polygon from a non-simple boundary line.</p>
<p>Geometries can be constructed in several ways. Two of the most common are
<code class="docutils literal notranslate"><span class="pre">ST_GeometryFromText</span></code> and <code class="docutils literal notranslate"><span class="pre">ST_GeomFromBinary</span></code>.  <code class="docutils literal notranslate"><span class="pre">ST_GeometryFromText</span></code>
accepts the Well-Known Text (WKT) format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">POINT</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">)</span>
<span class="o">*</span> <span class="n">LINESTRING</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">*</span> <span class="n">POLYGON</span> <span class="p">((</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">))</span>
<span class="o">*</span> <span class="n">MULTIPOINT</span> <span class="p">(</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">)</span>
<span class="o">*</span> <span class="n">MULTILINESTRING</span> <span class="p">((</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span> <span class="mi">4</span><span class="p">))</span>
<span class="o">*</span> <span class="n">MULTIPOLYGON</span> <span class="p">(((</span><span class="mi">0</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">)),</span>
</pre></div>
</div>
<blockquote>
<div><p>((-1 -1, -1 -2, -2 -2, -2 -1, -1 -1)))</p>
</div></blockquote>
<ul class="simple">
<li><p>GEOMETRYCOLLECTION (POINT(2 3), LINESTRING (2 3, 3 4))</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">ST_GeomFromBinary</span></code> accepts the Well-Known Binary (WKB) format. In WKT/WKB,
the coordinate order is (x, y). The details of both WKT and WKB can be found
<a class="reference external" href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry">here</a>.</p>
</section>
<section id="geometry-constructors">
<h2>Geometry Constructors<a class="headerlink" href="#geometry-constructors" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="ST_GeometryFromText">
<span class="sig-name descname"><span class="pre">ST_GeometryFromText</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wkt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">varchar</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">geometry:</span> <span class="pre">Geometry</span></span></span><a class="headerlink" href="#ST_GeometryFromText" title="Link to this definition">¶</a></dt>
<dd><p>Creates a Geometry object from the Well-Known Text (WKT) formatted string.
Ill-formed strings will return a User Error.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_GeomFromBinary">
<span class="sig-name descname"><span class="pre">ST_GeomFromBinary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wkb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">varbinary</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">geometry:</span> <span class="pre">Geometry</span></span></span><a class="headerlink" href="#ST_GeomFromBinary" title="Link to this definition">¶</a></dt>
<dd><p>Creates a Geometry object from the Well-Known Binary (WKB) formatted binary.
Ill-formed binary will return a User Error.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_AsText">
<span class="sig-name descname"><span class="pre">ST_AsText</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">wkt:</span> <span class="pre">varchar</span></span></span><a class="headerlink" href="#ST_AsText" title="Link to this definition">¶</a></dt>
<dd><p>Returns the Well-Known Text (WKT) formatted string of the Geometry object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_AsBinary">
<span class="sig-name descname"><span class="pre">ST_AsBinary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">wkb:</span> <span class="pre">varbinary</span></span></span><a class="headerlink" href="#ST_AsBinary" title="Link to this definition">¶</a></dt>
<dd><p>Returns the Well-Known Binary (WKB) formatted binary of the Geometry object.</p>
</dd></dl>

</section>
<section id="spatial-predicates">
<h2>Spatial Predicates<a class="headerlink" href="#spatial-predicates" title="Link to this heading">¶</a></h2>
<p>Spatial Predicates are binary functions that return a boolean value indicating
whether a given spatial relationship holds. These relations are defined by the
<a class="reference external" href="https://en.wikipedia.org/wiki/DE-9IM">DE-9IM</a> intersection matrix model. The model defines intersection patterns such
as “overlaps” or “touches.” The exact conditions can be surprising (especially
for empty geometries), so be sure to read the documentation for the specific
function you are using.</p>
<dl class="py function">
<dt class="sig sig-object py" id="ST_Contains">
<span class="sig-name descname"><span class="pre">ST_Contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Contains" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if no points of the second geometry lie in the
exterior of the first geometry, and at least one point of the interior of
the first geometry lies in the interior of the second geometry.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Crosses">
<span class="sig-name descname"><span class="pre">ST_Crosses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Crosses" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the supplied geometries have some, but not all, interior
points in common.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Disjoint">
<span class="sig-name descname"><span class="pre">ST_Disjoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Disjoint" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the give geometries do not spatially intersect – if
they do not share any space together.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Equals">
<span class="sig-name descname"><span class="pre">ST_Equals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Equals" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given geometries represent the same geometry.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Intersects">
<span class="sig-name descname"><span class="pre">ST_Intersects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Intersects" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given geometries spatially intersect in two
dimensions (share any portion of space) and <a href="#id1"><span class="problematic" id="id2">``</span></a>false``0 if they do not (they
are disjoint).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Overlaps">
<span class="sig-name descname"><span class="pre">ST_Overlaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Overlaps" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given geometries share space, are of the same
dimension, but are not completely contained by each other.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Relat">
<span class="sig-name descname"><span class="pre">ST_Relat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">varchar</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Relat" title="Link to this definition">¶</a></dt>
<dd><p>Returns true if first geometry is spatially related to second geometry as
described by the relation.  The relation is a string like <code class="docutils literal notranslate"><span class="pre">'&quot;1*T***T**'</span></code>:
please see the description of DM-9IM for more details.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Touches">
<span class="sig-name descname"><span class="pre">ST_Touches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Touches" title="Link to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the given geometries have at least one point in common,
but their interiors do not intersect.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ST_Within">
<span class="sig-name descname"><span class="pre">ST_Within</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geometry1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Geometry</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">boolean</span></span></span><a class="headerlink" href="#ST_Within" title="Link to this definition">¶</a></dt>
<dd><p>Returns true if first geometry is completely inside second geometry.</p>
</dd></dl>

</section>
<section id="bing-tile-functions">
<h2>Bing Tile Functions<a class="headerlink" href="#bing-tile-functions" title="Link to this heading">¶</a></h2>
<p>Bing tiles are a convenient quad-tree representation of the WGS84 projection of
Earth’s surface. They can be used to partition geospatial data, perform quick
proximity or intersection checks, and more. Each tile is defined by a <cite>zoom</cite>
level (how far down the quad-tree the tile lives), and an <cite>x</cite> and <cite>y</cite> coordinate
specifying where it is in that <cite>zoom</cite> level.  Velox supports <cite>zoom</cite> levels from
0 to 23.  For a given zoom level, <cite>x</cite> and <cite>y</cite> must be between 0 and <cite>2**zoom -
1</cite> inclusive.  Lower <cite>x</cite> values are west of higher <cite>x</cite> values, and lower <cite>y</cite>
values are north of higher <cite>y</cite> values.</p>
<p>Bing tiles can be cast to and from an efficient BIGINT representation. While every
Bing tile can be cast to a valid BIGINT, not every BIGINT is a valid Bing tile, so
casting BIGINT to BINGTILE may fail.</p>
<dl class="simple">
<dt>::</dt><dd><p>CAST(CAST(tile AS BIGINT) AS BINGTILE)</p>
</dd>
</dl>
<p>See <a class="reference external" href="https://learn.microsoft.com/en-us/bingmaps/articles/bing-maps-tile-system">https://learn.microsoft.com/en-us/bingmaps/articles/bing-maps-tile-system</a>
for more details.</p>
<dl class="py function">
<dt class="sig sig-object py" id="bing_tile">
<span class="sig-name descname"><span class="pre">bing_tile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">integer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">integer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zoom_level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tinyint</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tile:</span> <span class="pre">BingTile</span></span></span><a class="headerlink" href="#bing_tile" title="Link to this definition">¶</a></dt>
<dd><p>Creates a Bing tile object from <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> coordinates and a <code class="docutils literal notranslate"><span class="pre">zoom_level</span></code>.
Zoom levels from 0 to 23 are supported, with valid <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> coordinates
described above.  Invalid parameters will return a User Error.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">bing_tile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quadKey</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">varchar</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tile:</span> <span class="pre">BingTile</span></span></span><a class="headerlink" href="#id0" title="Link to this definition">¶</a></dt>
<dd><p>Creates a Bing tile object from a quadkey. An invalid quadkey will return a User Error.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bing_tile_coordinates">
<span class="sig-name descname"><span class="pre">bing_tile_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tile:</span> <span class="pre">BingTile)</span> <span class="pre">-&gt;</span> <span class="pre">coords:</span> <span class="pre">row(integer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bing_tile_coordinates" title="Link to this definition">¶</a></dt>
<dd><p>Returns the <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">y</span></code> coordinates of a given Bing tile as <code class="docutils literal notranslate"><span class="pre">row(x,</span> <span class="pre">y)</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bing_tile_zoom_level">
<span class="sig-name descname"><span class="pre">bing_tile_zoom_level</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">BingTile</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">zoom_level:</span> <span class="pre">tinyint</span></span></span><a class="headerlink" href="#bing_tile_zoom_level" title="Link to this definition">¶</a></dt>
<dd><p>Returns the zoom level of a given Bing tile.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bing_tile_parent">
<span class="sig-name descname"><span class="pre">bing_tile_parent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tile</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">parent:</span> <span class="pre">BingTile</span></span></span><a class="headerlink" href="#bing_tile_parent" title="Link to this definition">¶</a></dt>
<dd><p>Returns the parent of the Bing tile at one lower zoom level. Throws an
exception if tile is at zoom level 0.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">bing_tile_parent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parentZoom</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">parent:</span> <span class="pre">BingTile</span></span></span><a class="headerlink" href="#id3" title="Link to this definition">¶</a></dt>
<dd><p>Returns the parent of the Bing tile at the specified lower zoom level.
Throws an exception if parentZoom is less than 0, or parentZoom is greater
than the tile’s zoom.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bing_tile_children">
<span class="sig-name descname"><span class="pre">bing_tile_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tile)</span> <span class="pre">-&gt;</span> <span class="pre">children:</span> <span class="pre">array(BingTile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bing_tile_children" title="Link to this definition">¶</a></dt>
<dd><p>Returns the children of the Bing tile at one higher zoom level. Throws an
exception if tile is at max zoom level.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">bing_tile_children</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">childZoom)</span> <span class="pre">-&gt;</span> <span class="pre">children:</span> <span class="pre">array(BingTile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id4" title="Link to this definition">¶</a></dt>
<dd><p>Returns the children of the Bing tile at the specified higher zoom level.
Throws an exception if childZoom is greater than the max zoom level, or
childZoom is less than the tile’s zoom.  The order is deterministic but not
specified.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bing_tile_quadkey">
<span class="sig-name descname"><span class="pre">bing_tile_quadkey</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">quadKey:</span> <span class="pre">varchar</span></span></span><a class="headerlink" href="#bing_tile_quadkey" title="Link to this definition">¶</a></dt>
<dd><p>Returns the quadkey representing the provided bing tile.</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Geospatial Operators</a><ul>
<li><a class="reference internal" href="#geometry-functions">Geometry Functions</a></li>
<li><a class="reference internal" href="#geometry-constructors">Geometry Constructors</a><ul>
<li><a class="reference internal" href="#ST_GeometryFromText"><code class="docutils literal notranslate"><span class="pre">ST_GeometryFromText()</span></code></a></li>
<li><a class="reference internal" href="#ST_GeomFromBinary"><code class="docutils literal notranslate"><span class="pre">ST_GeomFromBinary()</span></code></a></li>
<li><a class="reference internal" href="#ST_AsText"><code class="docutils literal notranslate"><span class="pre">ST_AsText()</span></code></a></li>
<li><a class="reference internal" href="#ST_AsBinary"><code class="docutils literal notranslate"><span class="pre">ST_AsBinary()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#spatial-predicates">Spatial Predicates</a><ul>
<li><a class="reference internal" href="#ST_Contains"><code class="docutils literal notranslate"><span class="pre">ST_Contains()</span></code></a></li>
<li><a class="reference internal" href="#ST_Crosses"><code class="docutils literal notranslate"><span class="pre">ST_Crosses()</span></code></a></li>
<li><a class="reference internal" href="#ST_Disjoint"><code class="docutils literal notranslate"><span class="pre">ST_Disjoint()</span></code></a></li>
<li><a class="reference internal" href="#ST_Equals"><code class="docutils literal notranslate"><span class="pre">ST_Equals()</span></code></a></li>
<li><a class="reference internal" href="#ST_Intersects"><code class="docutils literal notranslate"><span class="pre">ST_Intersects()</span></code></a></li>
<li><a class="reference internal" href="#ST_Overlaps"><code class="docutils literal notranslate"><span class="pre">ST_Overlaps()</span></code></a></li>
<li><a class="reference internal" href="#ST_Relat"><code class="docutils literal notranslate"><span class="pre">ST_Relat()</span></code></a></li>
<li><a class="reference internal" href="#ST_Touches"><code class="docutils literal notranslate"><span class="pre">ST_Touches()</span></code></a></li>
<li><a class="reference internal" href="#ST_Within"><code class="docutils literal notranslate"><span class="pre">ST_Within()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#bing-tile-functions">Bing Tile Functions</a><ul>
<li><a class="reference internal" href="#bing_tile"><code class="docutils literal notranslate"><span class="pre">bing_tile()</span></code></a></li>
<li><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">bing_tile()</span></code></a></li>
<li><a class="reference internal" href="#bing_tile_coordinates"><code class="docutils literal notranslate"><span class="pre">bing_tile_coordinates()</span></code></a></li>
<li><a class="reference internal" href="#bing_tile_zoom_level"><code class="docutils literal notranslate"><span class="pre">bing_tile_zoom_level()</span></code></a></li>
<li><a class="reference internal" href="#bing_tile_parent"><code class="docutils literal notranslate"><span class="pre">bing_tile_parent()</span></code></a></li>
<li><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">bing_tile_parent()</span></code></a></li>
<li><a class="reference internal" href="#bing_tile_children"><code class="docutils literal notranslate"><span class="pre">bing_tile_children()</span></code></a></li>
<li><a class="reference internal" href="#id4"><code class="docutils literal notranslate"><span class="pre">bing_tile_children()</span></code></a></li>
<li><a class="reference internal" href="#bing_tile_quadkey"><code class="docutils literal notranslate"><span class="pre">bing_tile_quadkey()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/functions/presto/geospatial.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Velox  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Geospatial Operators</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright TBD.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.7.
    </div>
  </body>
</html>